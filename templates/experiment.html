<div class="card info">
  <h4>Experimental Mode</h4>
  <p>The <code>{{component}}</code> component is currently in experimental mode and needs to be manually enabled (<a href="https://www.ampproject.org/docs/reference/experimental.html">more info</a>).</p>

  <div id="experiment-container">
    <button id="experiment-toggle" class="button-inactive" onclick="enableExperiment()">Enable Experiment</button>
    <a id="canary-toggle" class="button button-inactive" href="https://cdn.ampproject.org/experiments.html" target="_blank">Enable Dev Channel</a>
  </div>
</div>
<!-- BEGIN INVALID AMP - don't try at home -->
  <script>
(window.AMP = window.AMP || []).push(function(AMP) {
  updateExperimentWarning();
  showInvalidAmpMessage();
});

function updateExperimentWarning() {
  if (isExperimentEnabled()) {
    disable('experiment-toggle');
  } else {
    enable('experiment-toggle');
  }
  if (isCanaryEnabled()) {
    disable('canary-toggle');
  } else {
    enable('canary-toggle');
  }
}

function disable(button) {
    const element = document.getElementById(button);
    element.className = element.className.replace("primary", "inactive");
}

function enable(button) {
    const element = document.getElementById(button);
    element.className = element.className.replace("inactive", "primary");
}

function isExperimentEnabled() {
  return AMP.isExperimentOn('{{component}}');
}

function isCanaryEnabled() {
  return window.AMP_CONFIG.canary;
}

function showInvalidAmpMessage() {
  if (!window.location.hash.includes('development=1')) {
    return;
  }
  console.log('This sample is intentionally not valid AMP.');
}

function enableExperiment() {
  if (!isExperimentEnabled()) {
    AMP.toggleExperiment('{{component}}');
  }
  location.reload();
}
  </script>
<!-- END INVALID AMP -->
